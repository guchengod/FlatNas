import{d as g,r as d,I as w,w as f,E as p,e as h,b as c,h as e,t as u,C}from"./index-0Xhfa8Kb.js";const k={class:"flex-none flex flex-col justify-end items-end mb-1 px-1 h-8"},$={class:"text-[8px] text-gray-400 truncate w-full text-right"},m={class:"text-lg font-mono font-bold truncate w-full text-right leading-none"},y={class:"flex-1 grid grid-cols-4 gap-1"},E="flatnas-calculator-state",B=g({__name:"CalculatorWidget",props:{widget:{}},setup(b){const a=b,n=d("0"),l=d(""),i=w(E,{display:"0",expression:""});f([n,l],()=>{i.value={display:n.value,expression:l.value}}),p(()=>{i.value&&(n.value=i.value.display||"0",l.value=i.value.expression||"")});const s=r=>{n.value==="0"&&r!=="."&&(n.value=""),n.value+=r},v=()=>{n.value="0",l.value=""},x=()=>{try{const r=n.value.trim(),t=r.replace(/\s+/g,"");if(!t||!/^[0-9+\-*/().]+$/.test(t)){n.value="Error";return}l.value=r;const o=new Function(`"use strict"; return (${t})`)();if(typeof o!="number"||!Number.isFinite(o)){n.value="Error";return}n.value=o.toString()}catch{n.value="Error"}};return(r,t)=>(c(),h("div",{class:"w-full h-full backdrop-blur-md border border-white/10 rounded-2xl flex flex-col p-2 text-white overflow-hidden",style:C({backgroundColor:`rgba(17, 24, 39, ${a.widget?.opacity??.9})`})},[e("div",k,[e("div",$,u(l.value),1),e("div",m,u(n.value),1)]),e("div",y,[e("button",{onClick:v,class:"bg-red-500/20 text-red-400 rounded hover:bg-red-500/40 text-[10px]"}," C "),e("button",{onClick:t[0]||(t[0]=o=>s("/")),class:"bg-white/10 hover:bg-white/20 rounded text-[10px]"}," ÷ "),e("button",{onClick:t[1]||(t[1]=o=>s("*")),class:"bg-white/10 hover:bg-white/20 rounded text-[10px]"}," × "),e("button",{onClick:t[2]||(t[2]=()=>{n.value=n.value.slice(0,-1)||"0"}),class:"bg-white/10 hover:bg-white/20 rounded text-[10px]"}," ⌫ "),e("button",{onClick:t[3]||(t[3]=o=>s("7")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 7 "),e("button",{onClick:t[4]||(t[4]=o=>s("8")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 8 "),e("button",{onClick:t[5]||(t[5]=o=>s("9")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 9 "),e("button",{onClick:t[6]||(t[6]=o=>s("-")),class:"bg-white/10 hover:bg-white/20 rounded text-[10px]"}," - "),e("button",{onClick:t[7]||(t[7]=o=>s("4")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 4 "),e("button",{onClick:t[8]||(t[8]=o=>s("5")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 5 "),e("button",{onClick:t[9]||(t[9]=o=>s("6")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 6 "),e("button",{onClick:t[10]||(t[10]=o=>s("+")),class:"bg-white/10 hover:bg-white/20 rounded text-[10px]"}," + "),e("button",{onClick:t[11]||(t[11]=o=>s("1")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 1 "),e("button",{onClick:t[12]||(t[12]=o=>s("2")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 2 "),e("button",{onClick:t[13]||(t[13]=o=>s("3")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 3 "),e("button",{onClick:x,class:"bg-blue-500 hover:bg-blue-600 rounded row-span-2 flex items-center justify-center shadow-lg shadow-blue-500/30 text-sm"}," = "),e("button",{onClick:t[14]||(t[14]=o=>s("0")),class:"col-span-2 bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," 0 "),e("button",{onClick:t[15]||(t[15]=o=>s(".")),class:"bg-white/5 hover:bg-white/10 rounded text-xs font-bold"}," . ")])],4))}});export{B as default};
